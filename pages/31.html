<#def TITLE>OPAM for Coq</#def>
<#include "incl/header.html">

<div class="framework"><div class="frameworklabel">Step 1: getting opam</div>
<div class="frameworkcontent">

<p>
The recommended way to install Coq on Unix systems like Linux
is use the <a href="http://opam.ocaml.org/">opam</a> tool.
OPAM can be installed by following the guide &ldquo;<a href="http://opam.ocaml.org/doc/Install.html">Install OPAM in 2 minutes</a>&rdquo;.
OPAM can also be used on Mac OSX.
<p/>

<p>
We recommend to use OPAM version 1.2 or above.
</p>

Once installed type the following commands to set up an clean opam environment:

<pre>
opam init --comp 4.01.0
</pre>

Don't forget to follow the instructions to set up your environment variables correctly.  The quickest way of doing so is by typing
<pre>eval `opam config env`</pre>

If you already had OPAM installed, you can create a clean environment this way:

<pre>
opam switch coq-8.5 --alias-of 4.01.0
</pre>

</div> </div>

<div class="framework"><div class="frameworklabel">Step 2: installing Coq</div>
<div class="frameworkcontent">

To install Coq type:

<pre>
opam repo add coq-8.5 https://github.com/coq/repo-8.5.git
opam install coq
</pre>


</div> </div>

<div class="framework"><div class="frameworklabel">Step 3: installing CoqIDE</div>
<div class="frameworkcontent">

If you are running Linux, be sure you have installed the development packages
of gtk+2, gtksourceview2, expat and the m4 utility.  Such packages are named

<pre>
libgtksourceview2.0-dev libexpat1-dev libgtk2.0-dev m4
</pre>

on Debian, Ubuntu, Mint and derivatives, and are named

<pre>
gtksourceview2-devel expat-devel gtk2-devel m4
</pre>

on Fedora and derivatives. Then type:

<pre>
opam install coqide
</pre>

</div> </div>

<div class="framework"><div class="frameworklabel">Step 4: installing Coq extensions</div>
<div class="frameworkcontent">

The opam repository for Coq 8.5 also contains the packages for some plugins
and libraries.  Type the following command to get a list of the available
packages:

<pre>
opam search coq:
</pre>

They can all be installed by typing

<pre>
opam install coq:something
</pre>

<div class="framework"><div class="frameworklabel">Version compatibility</div>
<div class="frameworkcontent">

<p>Not all Coq packages are available for all Coq versions. If you have
installed Coq 8.4 through OPAM, and try to install a 8.5-only package,
the dependency solver will propose to uninstall Coq 8.4 and install
Coq 8.5 instead -- this is probably not what you want, if only because
of compilation times. You may "pin" the Coq package to a specific
version to avoid such propositions (<code>opam show coq</code> will
show you which version you have installed).</p>

<pre>
opam pin coq 8.4.5
</pre>

<p>See <code>opam pin --help</code> for how to un-pin.<!-- note: OPAM
1.1.1 and OPAM 1.2 have incompatible pinning command languages, so
I was careful *not* to give a precise command that would not work for
some users. -->If you wish to maintain several Coq setups in parallel,
with different versions, you may either
use <a href="http://opam.ocaml.org/doc/Usage.html#opamswitch">opam
switches</a>, a common mechanism for having independent OPAM setups
and juggling between them, or use project-local roots (if you are
ready to recompile Coq for each project) as
described <a href="http://coq-blog.clarus.me/use-opam-for-coq.html">here</a>.

</div> </div>


<#include "incl/footer.html">
